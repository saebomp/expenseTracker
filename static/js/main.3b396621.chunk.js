(this.webpackJsonpreacthooks=this.webpackJsonpreacthooks||[]).push([[0],{147:function(t,e,n){},149:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(1),c=n.n(r),s=n(58),o=n.n(s),l=(n(147),function(){return Object(a.jsx)("h2",{className:"uppercase text-3xl text-center font-semibold text-black",children:"Expense Tracker"})}),i=n(2),u=n(59),d=n(11),b=function(t,e){switch(e.type){case"DELETE_TRANSACTION":return Object(d.a)(Object(d.a)({},t),{},{transactions:t.transactions.filter((function(t){return t.id!==e.payload}))});case"ADD_TRANSACTION":return Object(d.a)(Object(d.a)({},t),{},{transactions:[e.payload].concat(Object(u.a)(t.transactions))});default:return t}},x={transactions:[{id:1,text:"Flower",amount:-100},{id:2,text:"Salary",amount:2200},{id:3,text:"Books",amount:-150},{id:4,text:"Stocks",amount:80},{id:5,text:"Snacks",amount:-200},{id:6,text:"Cloth",amount:-500}]};localStorage.setItem("initialState",JSON.stringify(x));var j=Object(r.createContext)(x),f=function(t){var e=t.children,n=Object(r.useReducer)(b,x),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.jsx)(j.Provider,{value:{transactions:s.transactions,deleteTransaction:function(t){o({type:"DELETE_TRANSACTION",payload:t})},addTransaction:function(t){o({type:"ADD_TRANSACTION",payload:t})}},children:e})},h=n(4),m=function(){var t=Object(r.useContext)(j).transactions.map((function(t){return t.amount}));console.log("amounts",t);var e=t.reduce((function(t,e){return t+e}),0).toFixed(2);return Object(a.jsx)("div",{className:"mt-10",children:Object(a.jsxs)("div",{className:"items-center",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{className:"leading-6 text-lg text-black",children:"Your Balance"})}),Object(a.jsx)("div",{children:Object(a.jsx)("h2",{className:"text-4xl font-semibold",children:Object(a.jsx)(h.a,{value:e,displayType:"text",thousandSeparator:!0,prefix:"$"})})})]})})},p=n(3),O=function(t){var e=t.data.filter((function(t){return t.amount>0})).map((function(t){return t.amount})).reduce((function(t,e){return t+e}),0),n=Object(r.useRef)(null),c=p.b().value((function(t){if(t.amount>0)return t.amount})).sort(null),s=p.a().innerRadius(t.innerRadius).outerRadius(t.outerRadius),o=p.c(p.d);return Object(r.useEffect)((function(){var a=c(t.data),r=p.e(n.current).selectAll("g.arc").data(a);r.exit().remove();var l=r.enter().append("g").attr("class","arc");l.append("path").merge(r.select("path.arc")).attr("class","arc").attr("d",s).attr("fill",(function(t,e){return o(e)})),l.append("text").merge(r.select("text")).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x","0").attr("y","0").attr("transform",(function(t){return"translate(".concat(s.centroid(t),")")})).style("fill","black").style("font-size",10).text((function(t){if(t.value>0)return t.data.text})),l.append("text").merge(r.select("text2")).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x","0").attr("y","10").attr("transform",(function(t){return"translate(".concat(s.centroid(t),")")})).style("fill","black").style("font-size",10).text((function(t){if(t.value>0)return(100*t.value/e).toFixed(2)+" %"}))}),[t.data]),Object(a.jsx)("svg",{width:t.width,height:t.height,children:Object(a.jsx)("g",{ref:n,transform:"translate(".concat(t.outerRadius," ").concat(t.outerRadius,")")})})},g=function(){var t=Object(r.useContext)(j).transactions,e=Object(r.useState)(t),n=Object(i.a)(e,2),c=n[0];n[1];return Object(a.jsx)(O,{data:c,width:300,height:300,innerRadius:110,outerRadius:150})},v=function(t){var e=t.data.filter((function(t){return t.amount<0})).map((function(t){return t.amount})).reduce((function(t,e){return t+e}),0),n=Object(r.useRef)(null),c=p.b().value((function(t){if(t.amount<0)return Math.abs(t.amount)})).sort(null),s=p.a().innerRadius(t.innerRadius).outerRadius(t.outerRadius),o=p.c(p.d);return Object(r.useEffect)((function(){var a=c(t.data),r=p.e(n.current).selectAll("g.arc").data(a);r.exit().remove();var l=r.enter().append("g").attr("class","arc");l.append("path").merge(r.select("path.arc")).attr("class","arc").attr("d",s).attr("fill",(function(t,e){return o(e)})),l.append("text").merge(r.select("text")).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x","0").attr("y","0").attr("transform",(function(t){return"translate(".concat(s.centroid(t),")")})).style("fill","black").style("font-size",10).text((function(t){if(t.value>0)return t.data.text})),l.append("text").merge(r.select("text2")).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("x","0").attr("y","10").attr("transform",(function(t){return"translate(".concat(s.centroid(t),")")})).style("fill","black").style("font-size",10).text((function(t){if(t.value>0)return(100*t.value/Math.abs(e)).toFixed(2)+" %"}))}),[t.data]),Object(a.jsx)("svg",{width:t.width,height:t.height,children:Object(a.jsx)("g",{ref:n,transform:"translate(".concat(t.outerRadius," ").concat(t.outerRadius,")")})})},y=function(){var t=Object(r.useContext)(j).transactions,e=Object(r.useState)(t),n=Object(i.a)(e,2),c=n[0];n[1];return Object(a.jsx)(v,{data:c,width:300,height:300,innerRadius:110,outerRadius:150})},N=n(22),w=function(){var t=Object(r.useContext)(j).transactions,e=Object(r.useState)(!1),n=Object(i.a)(e,2),c=n[0],s=n[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],b=t.map((function(t){return t.amount})),x=b.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0).toFixed(2),f=(-1*b.filter((function(t){return t<0})).reduce((function(t,e){return t+e}),0)).toFixed(2);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"bg-white shadow-lg group block rounded-lg p-4 border flex flex-row divide-x mt-12",children:[Object(a.jsxs)("div",{className:"w-6/12 text-center",children:[Object(a.jsx)("h4",{children:"Income"}),Object(a.jsx)("p",{className:"text-customgreen-900 text-2xl font-semibold",children:Object(a.jsx)(h.a,{value:x,displayType:"text",thousandSeparator:!0,prefix:"$"})}),Object(a.jsx)("div",{children:Object(a.jsxs)("button",{className:"relative focus:outline-none",onClick:function(){return s(!0)},children:[Object(a.jsx)("span",{className:"inline-block text-sm text-customtext-900",children:"View Chart"}),Object(a.jsx)("span",{className:"inline-block absolute top-1",children:Object(a.jsx)(N.a,{})})]})}),c?Object(a.jsx)("div",{className:"absolute w-full h-full bg-gray-900 bg-opacity-20 z-50 top-0 left-0",children:Object(a.jsxs)("div",{className:"absolute z-60 top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 rounded shadow-lg p-8 text-center flex justify-center opacity-100",children:[Object(a.jsx)(g,{}),Object(a.jsx)("button",{className:"absolute top-2 right-4 z-10 cursor-pointer focus:outline-none outline-none text-xl",onClick:function(){return s(!1)},children:"x"})]})}):null]}),Object(a.jsxs)("div",{className:"w-6/12 text-center",children:[Object(a.jsx)("h4",{children:"Expense"}),Object(a.jsx)("p",{className:"text-customred-900 text-2xl font-semibold",children:Object(a.jsx)(h.a,{value:f,displayType:"text",thousandSeparator:!0,prefix:"$"})}),Object(a.jsx)("div",{children:Object(a.jsxs)("button",{className:"relative focus:outline-none",onClick:function(){return d(!0)},children:[Object(a.jsx)("span",{className:"inline-block text-sm text-customtext-900",children:"View Chart"}),Object(a.jsx)("span",{className:"inline-block absolute top-1",children:Object(a.jsx)(N.a,{})})]})}),u?Object(a.jsx)("div",{className:"absolute w-full h-full bg-gray-900 bg-opacity-20 z-50 top-0 left-0",children:Object(a.jsxs)("div",{className:"absolute z-10 top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 rounded shadow-lg p-8 text-center flex justify-center",children:[Object(a.jsx)(y,{}),Object(a.jsx)("button",{className:"absolute top-2 right-4 z-10 cursor-pointer focus:outline-none outline-none text-xl",onClick:function(){return d(!1)},children:"x"})]})}):null]})]})})},k=function(t){var e=t.transaction,n=Object(r.useContext)(j).deleteTransaction,c=e.amount<0?"-":"+";return Object(a.jsxs)("li",{className:e.amount<0?"position: relative shadow border-r-4 border-customred-900 p-3 mb-3 bg-white":"position: relative shadow border-r-4 border-customgreen-900 p-3 mb-3 bg-white",children:[e.text,Object(a.jsxs)("span",{className:"float-right",children:[c,Object(a.jsx)(h.a,{value:Math.abs(e.amount),displayType:"text",thousandSeparator:!0,prefix:"$"})]}),Object(a.jsx)("button",{className:"position: absolute top-2/4 left-0 transform -translate-x-full -translate-y-1/2 bg-gray-300 hover:bg-red-600 text-white text-lg px-2",onClick:function(){return n(e.id)},children:"x"})]})},C=function(){var t=Object(r.useContext)(j).transactions;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:"leading-6 text-lg text-black mt-12 mb-4",children:"History"}),Object(a.jsx)("ul",{className:"",children:t.map((function(t){return Object(a.jsx)(k,{transaction:t},t.id)}))})]})},S=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],s=Object(r.useState)(0),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(!1),b=Object(i.a)(d,2),x=b[0],f=b[1],m=Object(r.useContext)(j).addTransaction;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:"leading-6 text-lg text-black mt-12 mb-4",children:"Add new transaction"}),Object(a.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),n.length>0&&l.length>0){var e={id:Math.floor(1e8*Math.random()),text:n,amount:+l};m(e),c(""),u("")}else f(!0)},children:[Object(a.jsxs)("div",{className:"form-control",children:[Object(a.jsx)("label",{htmlFor:"text",className:"block",children:"Text"}),Object(a.jsx)("input",{type:"text",value:n,className:"w-full p-2 placeholder-gray-400 border border-gray-200 focus:border-gray-900 focus:outline-none",onChange:function(t){return c(t.target.value)},placeholder:"Enter text..."})]}),Object(a.jsxs)("div",{className:"form-control",children:[Object(a.jsxs)("label",{htmlFor:"amount",className:"block mt-5",children:["Amount ",Object(a.jsx)("span",{className:"text-sm",children:"(negative : expense, positive : income)"})]}),Object(a.jsx)(h.a,{value:l,displayType:"input",thousandSeparator:!0,className:"w-full p-2 placeholder-gray-400 border border-gray-200 focus:border-gray-900 focus:outline-none",onChange:function(t){u(t.target.value.replace(/,/,""))},placeholder:"Enter amount...",onFocus:function(){u("")}})]}),Object(a.jsx)("button",{className:"w-full mt-5 bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 py-2 text-white hover:bg-gradient-to-l hover:from-pink-500 hover:to-yellow-400 focus:outline-none",children:"Add transaction"})]}),x?Object(a.jsxs)("div",{className:"position: absolute top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2 bg-gray-200 w-6/12 rounded shadow-lg p-8 text-center",children:[Object(a.jsx)("div",{children:"Please enter a valid value"}),Object(a.jsx)("button",{className:"position: absolute top-2 right-4 z-10 cursor-pointer text-2xl focus:outline-none",onClick:function(){return f(!1)},children:"x"})]}):null]})};n(149);var R=function(){return Object(a.jsxs)(f,{children:[Object(a.jsx)(l,{}),Object(a.jsxs)("div",{className:"grid grid-cols-1",children:[Object(a.jsx)(m,{}),Object(a.jsx)(w,{}),Object(a.jsx)(C,{}),Object(a.jsx)(S,{})]})]})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),r(t),c(t),s(t)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root")),T()}},[[150,1,2]]]);
//# sourceMappingURL=main.3b396621.chunk.js.map